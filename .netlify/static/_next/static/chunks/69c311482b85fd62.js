(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,21218,e=>{"use strict";let s=(0,e.i(475254).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>s],21218)},503116,e=>{"use strict";let s=(0,e.i(475254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>s],503116)},431343,e=>{"use strict";let s=(0,e.i(475254).default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);e.s(["Play",()=>s],431343)},495242,e=>{"use strict";let s=(0,e.i(475254).default)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]);e.s(["Pause",()=>s],495242)},174886,e=>{"use strict";let s=(0,e.i(475254).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>s],174886)},688511,e=>{"use strict";let s=(0,e.i(475254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>s],688511)},727612,e=>{"use strict";let s=(0,e.i(475254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>s],727612)},994179,e=>{"use strict";var s=e.i(843476),t=e.i(991918),a=e.i(225913),i=e.i(647163);let r=(0,a.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:a,asChild:l=!1,...n}){let d=l?t.Slot:"span";return(0,s.jsx)(d,{"data-slot":"badge",className:(0,i.cn)(r({variant:a}),e),...n})}e.s(["Badge",()=>l])},10708,e=>{"use strict";var s=e.i(843476),t=e.i(271645),a=e.i(248425),i=t.forwardRef((e,t)=>(0,s.jsx)(a.Primitive.label,{...e,ref:t,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var r=e.i(647163);function l({className:e,...t}){return(0,s.jsx)(i,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}e.s(["Label",()=>l],10708)},184762,e=>{"use strict";var s=e.i(843476),t=e.i(647163);function a({className:e,...a}){return(0,s.jsx)("textarea",{"data-slot":"textarea",className:(0,t.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...a})}e.s(["Textarea",()=>a])},107233,e=>{"use strict";let s=(0,e.i(475254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],107233)},320558,e=>{"use strict";var s=e.i(843476),t=e.i(271645),a=e.i(970065),i=e.i(167881),r=e.i(23750),l=e.i(10708),n=e.i(184762),d=e.i(994179),c=e.i(630374),o=e.i(503116),u=e.i(107233),m=e.i(688511),x=e.i(727612),h=e.i(431343),p=e.i(495242),g=e.i(174886),j=e.i(263488),f=e.i(87316),v=e.i(761911),y=e.i(217923),N=e.i(21218),b=e.i(846696);let w=[{id:"1",name:"Logistics Lead Nurturing",description:"5-step sequence for logistics leads",status:"active",steps:[{id:"1",name:"Initial Introduction",type:"email",template:"Logistics Introduction",delay:0,delayUnit:"immediate"},{id:"2",name:"Follow-up Email",type:"email",template:"Follow-up Template",delay:3,delayUnit:"days"},{id:"3",name:"Case Study Share",type:"email",template:"Value Proposition",delay:2,delayUnit:"days"},{id:"4",name:"Meeting Request",type:"email",template:"Meeting Confirmation",delay:3,delayUnit:"days"},{id:"5",name:"Final Follow-up",type:"email",template:"Last Attempt",delay:5,delayUnit:"days"}],enrolledLeads:127,completionRate:68.5,createdAt:"2024-01-10"},{id:"2",name:"European Transport Sequence",description:"3-step sequence for European market",status:"draft",steps:[{id:"1",name:"European Market Intro",type:"email",template:"European Logistics",delay:0,delayUnit:"immediate"},{id:"2",name:"Regulatory Compliance",type:"email",template:"Compliance Focus",delay:2,delayUnit:"days"},{id:"3",name:"Partnership Proposal",type:"email",template:"Partnership Offer",delay:4,delayUnit:"days"}],enrolledLeads:0,completionRate:0,createdAt:"2024-01-15"}];function C(){let e,C,[k,S]=(0,t.useState)(w),[q,L]=(0,t.useState)(!1),[T,M]=(0,t.useState)(!1),[P,A]=(0,t.useState)(null),[B,D]=(0,t.useState)({name:"",description:"",status:"draft"}),[E,U]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/outreach/sequences");if(e.ok){let s=await e.json();S(Array.isArray(s.sequences)?s.sequences:[])}}catch(e){}finally{U(!1)}})()},[]),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Email Sequences"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Create automated email sequences for lead nurturing"})]}),(0,s.jsxs)(c.Dialog,{open:q,onOpenChange:L,children:[(0,s.jsx)(c.DialogTrigger,{asChild:!0,children:(0,s.jsxs)(i.Button,{children:[(0,s.jsx)(u.Plus,{className:"h-4 w-4 mr-2"}),"New Sequence"]})}),(0,s.jsxs)(c.DialogContent,{children:[(0,s.jsxs)(c.DialogHeader,{children:[(0,s.jsx)(c.DialogTitle,{children:"Create Email Sequence"}),(0,s.jsx)(c.DialogDescription,{children:"Set up a new automated email sequence"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.Label,{htmlFor:"seq-name",children:"Sequence Name"}),(0,s.jsx)(r.Input,{id:"seq-name",placeholder:"e.g., Logistics Lead Nurturing",value:B.name,onChange:e=>D({...B,name:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.Label,{htmlFor:"seq-description",children:"Description"}),(0,s.jsx)(n.Textarea,{id:"seq-description",placeholder:"Describe the purpose of this sequence...",rows:3,value:B.description,onChange:e=>D({...B,description:e.target.value})})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(i.Button,{variant:"outline",onClick:()=>L(!1),children:"Cancel"}),(0,s.jsxs)(i.Button,{onClick:()=>{B.name?(S([{id:Date.now().toString(),...B,steps:[],enrolledLeads:0,completionRate:0,createdAt:new Date().toISOString().split("T")[0]},...k]),D({name:"",description:"",status:"draft"}),L(!1),b.toast.success("Sequence created successfully!")):b.toast.error("Please enter a sequence name")},children:[(0,s.jsx)(u.Plus,{className:"h-4 w-4 mr-2"}),"Create Sequence"]})]})]})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,s.jsxs)(a.Card,{children:[(0,s.jsxs)(a.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(a.CardTitle,{className:"text-sm font-medium",children:"Total Sequences"}),(0,s.jsx)(v.Users,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(a.CardContent,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:k.length})})]}),(0,s.jsxs)(a.Card,{children:[(0,s.jsxs)(a.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(a.CardTitle,{className:"text-sm font-medium",children:"Enrolled Leads"}),(0,s.jsx)(j.Mail,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(a.CardContent,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:k.reduce((e,s)=>e+(s.enrolled_leads??s.enrolledLeads??0),0)})})]}),(0,s.jsxs)(a.Card,{children:[(0,s.jsxs)(a.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(a.CardTitle,{className:"text-sm font-medium",children:"Avg Completion"}),(0,s.jsx)(N.Activity,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(a.CardContent,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:(C=(e=k.map(e=>e.completion_rate??e.completionRate??0)).length?e.reduce((e,s)=>e+s,0)/e.length:0,`${C.toFixed(1)}%`)})})]}),(0,s.jsxs)(a.Card,{children:[(0,s.jsxs)(a.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(a.CardTitle,{className:"text-sm font-medium",children:"Active vs Paused"}),(0,s.jsx)(y.BarChart3,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(a.CardContent,{children:(0,s.jsxs)("div",{className:"text-sm",children:["Active: ",k.filter(e=>"active"===(e.status||"").toLowerCase()).length,(0,s.jsx)("span",{className:"mx-2",children:"|"}),"Paused: ",k.filter(e=>"paused"===(e.status||"").toLowerCase()).length]})})]})]}),E?(0,s.jsx)("div",{className:"text-center py-8",children:"Loading sequences..."}):(0,s.jsx)("div",{className:"grid gap-6",children:k.map(e=>(0,s.jsxs)(a.Card,{children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(a.CardTitle,{className:"text-lg",children:e.name}),(0,s.jsxs)(d.Badge,{className:(e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(e.status),children:[(e=>{switch(e){case"active":return(0,s.jsx)(h.Play,{className:"h-3 w-3"});case"paused":return(0,s.jsx)(p.Pause,{className:"h-3 w-3"});default:return(0,s.jsx)(o.Clock,{className:"h-3 w-3"})}})(e.status),e.status]})]}),(0,s.jsx)(a.CardDescription,{children:e.description})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i.Button,{size:"sm",variant:"outline",onClick:()=>{S([{...e,id:Date.now().toString(),name:`${e.name} (Copy)`,enrolledLeads:0,completionRate:0,createdAt:new Date().toISOString().split("T")[0]},...k]),b.toast.success("Sequence duplicated successfully!")},children:(0,s.jsx)(g.Copy,{className:"h-3 w-3"})}),(0,s.jsx)(i.Button,{size:"sm",variant:"outline",onClick:()=>{A(e),M(!0)},children:(0,s.jsx)(m.Edit,{className:"h-3 w-3"})}),(0,s.jsx)(i.Button,{size:"sm",variant:"outline",onClick:()=>{var s;return s=e.id,void(S(k.filter(e=>e.id!==s)),b.toast.success("Sequence deleted successfully!"))},children:(0,s.jsx)(x.Trash2,{className:"h-3 w-3"})}),(0,s.jsx)(i.Button,{size:"sm",variant:"outline",onClick:()=>{var s;let t;return s=e.id,void(S(t=k.map(e=>e.id===s?{...e,status:"active"===e.status?"paused":"active"}:e)),b.toast.success(`Sequence ${t.find(e=>e.id===s)?.status==="active"?"activated":"paused"}!`))},children:"active"===e.status?(0,s.jsx)(p.Pause,{className:"h-3 w-3"}):(0,s.jsx)(h.Play,{className:"h-3 w-3"})})]})]})}),(0,s.jsx)(a.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.Users,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Enrolled:"}),(0,s.jsxs)("div",{className:"font-medium",children:[e.enrolled_leads??e.enrolledLeads??0," leads"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(y.BarChart3,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Completion:"}),(0,s.jsxs)("div",{className:"font-medium",children:[e.completion_rate??e.completionRate??0,"%"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f.Calendar,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Created:"}),(0,s.jsx)("div",{className:"font-medium",children:e.createdAt||new Date().toISOString().split("T")[0]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(l.Label,{className:"text-sm font-medium",children:["Sequence Steps (",e.steps.length,")"]}),(0,s.jsx)("div",{className:"mt-2 space-y-2",children:(e.steps||[]).map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:t+1}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Template: ",e.template," â€¢",0===e.delay?" Send immediately":` Send after ${e.delay} ${e.delayUnit}`]})]}),(0,s.jsxs)(d.Badge,{variant:"outline",children:[(0,s.jsx)(j.Mail,{className:"h-3 w-3 mr-1"}),e.type]})]},e.id))})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(i.Button,{size:"sm",variant:"outline",children:[(0,s.jsx)(m.Edit,{className:"h-3 w-3 mr-2"}),"Edit Steps"]}),(0,s.jsxs)(i.Button,{size:"sm",variant:"outline",children:[(0,s.jsx)(v.Users,{className:"h-3 w-3 mr-2"}),"Enroll Leads"]}),(0,s.jsxs)(i.Button,{size:"sm",children:[(0,s.jsx)(h.Play,{className:"h-3 w-3 mr-2"}),"active"===e.status?"Manage":"Activate"]})]})]})})]},e.id))}),!E&&0===k.length&&(0,s.jsx)(a.Card,{children:(0,s.jsxs)(a.CardContent,{className:"text-center py-8",children:[(0,s.jsx)(o.Clock,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No sequences yet"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"Create automated email sequences to nurture your leads over time."}),(0,s.jsxs)(i.Button,{onClick:()=>L(!0),children:[(0,s.jsx)(o.Clock,{className:"h-4 w-4 mr-2"}),"Create Sequence"]})]})})]})}e.s(["default",()=>C])}]);