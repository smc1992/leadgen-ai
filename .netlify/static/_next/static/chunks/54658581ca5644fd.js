(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,782481,e=>{"use strict";var a=e.i(843476),s=e.i(271645),t=e.i(970065),r=e.i(167881),n=e.i(994179),l=e.i(127341),i=e.i(178583);let o=(0,e.i(475254).default)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);var d=e.i(473708),c=e.i(87316),m=e.i(283086),x=e.i(952571),u=e.i(239616),h=e.i(778917),p=e.i(781947),g=e.i(522016),j=e.i(8540),v=e.i(653145),f=e.i(994814),C=e.i(362201),b=e.i(846696),y=e.i(630374),N=e.i(874946),w=e.i(23750),F=e.i(184762),S=e.i(62870),T=e.i(531278),I=e.i(174886),k=e.i(16715),B=e.i(643531);e.i(247167).default.env.BLOTATO_API_KEY;var A=e.i(87446);let D=C.object({prompt:C.string().min(10,"Prompt must be at least 10 characters"),tone:C.enum(["professional","casual","friendly","authoritative","humorous","inspirational"]),platform:C.enum(["linkedin","facebook","instagram","tiktok","twitter"]),targetAudience:C.string().optional(),includeHashtags:C.boolean(),includeCTA:C.boolean(),includeEmojis:C.boolean()});function L({open:e,onOpenChange:i,onSave:o}){let[d,c]=(0,s.useState)(!1),[x,u]=(0,s.useState)(null),[h,p]=(0,s.useState)(!1),[g,j]=(0,s.useState)("input"),C=(0,v.useForm)({resolver:(0,f.zodResolver)(D),defaultValues:{prompt:"",tone:"professional",platform:"linkedin",targetAudience:"",includeHashtags:!0,includeCTA:!0,includeEmojis:!1}}),L={twitter:{maxTextLength:280,maxMediaCount:4,supportsVideo:!0,supportsCarousel:!1,supportsThreads:!0},linkedin:{maxTextLength:3e3,maxMediaCount:9,supportsVideo:!0,supportsCarousel:!0,supportsThreads:!1},facebook:{maxTextLength:63206,maxMediaCount:10,supportsVideo:!0,supportsCarousel:!0,supportsThreads:!1},instagram:{maxTextLength:2200,maxMediaCount:10,supportsVideo:!0,supportsCarousel:!0,supportsThreads:!1},tiktok:{maxTextLength:2200,maxMediaCount:1,supportsVideo:!0,supportsCarousel:!1,supportsThreads:!1},pinterest:{maxTextLength:500,maxMediaCount:5,supportsVideo:!0,supportsCarousel:!0,supportsThreads:!1},threads:{maxTextLength:500,maxMediaCount:10,supportsVideo:!0,supportsCarousel:!0,supportsThreads:!0},bluesky:{maxTextLength:300,maxMediaCount:4,supportsVideo:!0,supportsCarousel:!1,supportsThreads:!0},youtube:{maxTextLength:5e3,maxMediaCount:1,supportsVideo:!0,supportsCarousel:!1,supportsThreads:!1}}[C.watch("platform")];async function V(e){c(!0);try{var a;let s=(a=e.platform,JSON.parse(localStorage.getItem("blotato_accounts")||"{}")[a]||null);if(!s){b.toast.error(`Please configure ${e.platform} account in Settings first`),c(!1);return}let t=await (0,A.fetchWithCsrf)("/api/content/generate-and-publish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountId:s,platform:e.platform,prompt:e.prompt,tone:e.tone,targetAudience:e.targetAudience,includeHashtags:e.includeHashtags,includeCTA:e.includeCTA,includeEmojis:e.includeEmojis})}),r=await t.json();if(!r.success)throw Error(r.error||"Failed to generate content");u({headline:r.generated.headline||e.prompt,body:r.generated.body||e.prompt,hashtags:r.generated.hashtags||[],cta:r.generated.cta||"",metadata:{wordCount:r.generated.metadata?.wordCount||0,characterCount:r.generated.metadata?.characterCount||0,estimatedReadTime:r.generated.metadata?.estimatedReadTime||1}}),j("preview"),b.toast.success("Content generated successfully!")}catch(e){b.toast.error(e instanceof Error?e.message:"Failed to generate content"),console.error(e)}finally{c(!1)}}let P=()=>{x&&o&&(o(x),b.toast.success("Content saved as draft!"),i(!1))};return(0,a.jsx)(y.Dialog,{open:e,onOpenChange:i,children:(0,a.jsxs)(y.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(y.DialogHeader,{children:[(0,a.jsxs)(y.DialogTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Sparkles,{className:"h-5 w-5 text-primary"}),"AI Text Generator"]}),(0,a.jsx)(y.DialogDescription,{children:"Create engaging social media content with AI"})]}),"input"===g?(0,a.jsx)(N.Form,{...C,children:(0,a.jsxs)("form",{onSubmit:C.handleSubmit(V),className:"space-y-6",children:[(0,a.jsx)(N.FormField,{control:C.control,name:"prompt",render:({field:e})=>(0,a.jsxs)(N.FormItem,{children:[(0,a.jsx)(N.FormLabel,{children:"What do you want to write about? *"}),(0,a.jsx)(N.FormControl,{children:(0,a.jsx)(F.Textarea,{placeholder:"E.g., Air Freight from Germany to USA: Key advantages for businesses",rows:4,...e})}),(0,a.jsx)(N.FormDescription,{children:"Be specific about your topic, target audience, and key points"}),(0,a.jsx)(N.FormMessage,{})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(N.FormField,{control:C.control,name:"platform",render:({field:e})=>(0,a.jsxs)(N.FormItem,{children:[(0,a.jsx)(N.FormLabel,{children:"Platform *"}),(0,a.jsxs)(S.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,a.jsx)(N.FormControl,{children:(0,a.jsx)(S.SelectTrigger,{children:(0,a.jsx)(S.SelectValue,{})})}),(0,a.jsxs)(S.SelectContent,{children:[(0,a.jsx)(S.SelectItem,{value:"linkedin",children:"LinkedIn"}),(0,a.jsx)(S.SelectItem,{value:"facebook",children:"Facebook"}),(0,a.jsx)(S.SelectItem,{value:"instagram",children:"Instagram"}),(0,a.jsx)(S.SelectItem,{value:"tiktok",children:"TikTok"}),(0,a.jsx)(S.SelectItem,{value:"twitter",children:"Twitter"})]})]}),(0,a.jsxs)(N.FormDescription,{children:["Max: ",L.maxTextLength," chars"]}),(0,a.jsx)(N.FormMessage,{})]})}),(0,a.jsx)(N.FormField,{control:C.control,name:"tone",render:({field:e})=>(0,a.jsxs)(N.FormItem,{children:[(0,a.jsx)(N.FormLabel,{children:"Tone *"}),(0,a.jsxs)(S.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,a.jsx)(N.FormControl,{children:(0,a.jsx)(S.SelectTrigger,{children:(0,a.jsx)(S.SelectValue,{})})}),(0,a.jsxs)(S.SelectContent,{children:[(0,a.jsx)(S.SelectItem,{value:"professional",children:"Professional"}),(0,a.jsx)(S.SelectItem,{value:"casual",children:"Casual"}),(0,a.jsx)(S.SelectItem,{value:"friendly",children:"Friendly"}),(0,a.jsx)(S.SelectItem,{value:"authoritative",children:"Authoritative"}),(0,a.jsx)(S.SelectItem,{value:"humorous",children:"Humorous"}),(0,a.jsx)(S.SelectItem,{value:"inspirational",children:"Inspirational"})]})]}),(0,a.jsx)(N.FormMessage,{})]})})]}),(0,a.jsx)(N.FormField,{control:C.control,name:"targetAudience",render:({field:e})=>(0,a.jsxs)(N.FormItem,{children:[(0,a.jsx)(N.FormLabel,{children:"Target Audience (Optional)"}),(0,a.jsx)(N.FormControl,{children:(0,a.jsx)(w.Input,{placeholder:"E.g., Supply chain managers, logistics professionals",...e})}),(0,a.jsx)(N.FormDescription,{children:"Who is this content for?"}),(0,a.jsx)(N.FormMessage,{})]})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(N.FormLabel,{children:"Options"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsx)(N.FormField,{control:C.control,name:"includeHashtags",render:({field:e})=>(0,a.jsxs)(N.FormItem,{className:"flex items-center space-x-2",children:[(0,a.jsx)(N.FormControl,{children:(0,a.jsx)("input",{type:"checkbox",checked:e.value,onChange:e.onChange,className:"h-4 w-4 rounded border-gray-300"})}),(0,a.jsx)(N.FormLabel,{className:"!mt-0 cursor-pointer",children:"Include Hashtags"})]})}),(0,a.jsx)(N.FormField,{control:C.control,name:"includeCTA",render:({field:e})=>(0,a.jsxs)(N.FormItem,{className:"flex items-center space-x-2",children:[(0,a.jsx)(N.FormControl,{children:(0,a.jsx)("input",{type:"checkbox",checked:e.value,onChange:e.onChange,className:"h-4 w-4 rounded border-gray-300"})}),(0,a.jsx)(N.FormLabel,{className:"!mt-0 cursor-pointer",children:"Include Call-to-Action"})]})}),(0,a.jsx)(N.FormField,{control:C.control,name:"includeEmojis",render:({field:e})=>(0,a.jsxs)(N.FormItem,{className:"flex items-center space-x-2",children:[(0,a.jsx)(N.FormControl,{children:(0,a.jsx)("input",{type:"checkbox",checked:e.value,onChange:e.onChange,className:"h-4 w-4 rounded border-gray-300"})}),(0,a.jsx)(N.FormLabel,{className:"!mt-0 cursor-pointer",children:"Include Emojis"})]})})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(r.Button,{type:"button",variant:"outline",onClick:()=>i(!1),disabled:d,children:"Cancel"}),(0,a.jsxs)(r.Button,{type:"submit",disabled:d,children:[d&&(0,a.jsx)(T.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),d?"Generating...":"Generate Content"]})]})]})}):(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)(l.Tabs,{defaultValue:"preview",children:[(0,a.jsxs)(l.TabsList,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(l.TabsTrigger,{value:"preview",children:"Preview"}),(0,a.jsx)(l.TabsTrigger,{value:"edit",children:"Edit"})]}),(0,a.jsx)(l.TabsContent,{value:"preview",className:"space-y-4",children:x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.Card,{children:[(0,a.jsxs)(t.CardHeader,{children:[(0,a.jsx)(t.CardTitle,{className:"text-xl",children:x.headline}),(0,a.jsxs)(t.CardDescription,{className:"flex gap-2",children:[(0,a.jsxs)(n.Badge,{variant:"outline",children:[x.metadata.wordCount," words"]}),(0,a.jsxs)(n.Badge,{variant:"outline",children:[x.metadata.characterCount," characters"]}),(0,a.jsxs)(n.Badge,{variant:"outline",children:[x.metadata.estimatedReadTime," min read"]})]})]}),(0,a.jsxs)(t.CardContent,{className:"space-y-4",children:[(0,a.jsx)("div",{className:"whitespace-pre-wrap text-sm",children:x.body}),x.hashtags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:x.hashtags.map((e,s)=>(0,a.jsx)(n.Badge,{variant:"secondary",children:e},s))}),x.cta&&(0,a.jsx)("div",{className:"rounded-lg bg-muted p-3 text-sm font-medium",children:x.cta})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsxs)(r.Button,{variant:"outline",onClick:()=>{j("input"),u(null)},children:[(0,a.jsx)(k.RefreshCw,{className:"mr-2 h-4 w-4"}),"Regenerate"]}),(0,a.jsx)(r.Button,{variant:"outline",onClick:()=>{if(!x)return;let e=`${x.headline}

${x.body}

${x.hashtags.join(" ")}

${x.cta}`;navigator.clipboard.writeText(e),p(!0),b.toast.success("Copied to clipboard!"),setTimeout(()=>p(!1),2e3)},children:h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(B.Check,{className:"mr-2 h-4 w-4"}),"Copied!"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.Copy,{className:"mr-2 h-4 w-4"}),"Copy"]})}),(0,a.jsx)(r.Button,{onClick:P,children:"Save as Draft"})]})]})}),(0,a.jsx)(l.TabsContent,{value:"edit",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Headline"}),(0,a.jsx)(w.Input,{value:x?.headline||"",onChange:e=>u(a=>a?{...a,headline:e.target.value}:null),className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Body"}),(0,a.jsx)(F.Textarea,{value:x?.body||"",onChange:e=>u(a=>a?{...a,body:e.target.value}:null),rows:12,className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Call-to-Action"}),(0,a.jsx)(w.Input,{value:x?.cta||"",onChange:e=>u(a=>a?{...a,cta:e.target.value}:null),className:"mt-1"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(r.Button,{variant:"outline",onClick:()=>j("preview"),children:"Back to Preview"}),(0,a.jsx)(r.Button,{onClick:P,children:"Save Changes"})]})]})})]})})]})})}var V=e.i(287336),P=e.i(431343),M=e.i(440160);let U=C.object({topic:C.string().min(5,"Topic must be at least 5 characters"),duration:C.number().min(15).max(90),style:C.enum(["modern","minimal","corporate","creative","animated","cinematic"]),script:C.string().optional(),voiceover:C.boolean(),backgroundMusic:C.boolean(),captions:C.boolean()});function E({open:e,onOpenChange:n,onSave:l}){let[i,d]=(0,s.useState)(!1),[c,m]=(0,s.useState)(null),[x,u]=(0,s.useState)("input"),h=(0,v.useForm)({resolver:(0,f.zodResolver)(U),defaultValues:{topic:"",duration:30,style:"modern",script:"",voiceover:!0,backgroundMusic:!0,captions:!0}});async function p(e){d(!0),u("processing");try{let a=await fetch("/api/content/generate-video",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e.topic,duration:e.duration,style:e.style,script:e.script,voiceover:e.voiceover,backgroundMusic:e.backgroundMusic,captions:e.captions})}),s=await a.json();if(!s.success)throw Error(s.error||"Failed to generate video");let t=s.video.id;m({id:t,jobId:s.video.id,status:"processing",duration:e.duration,progress:0});let r=0;for(;r<120;){await new Promise(e=>setTimeout(e,5e3));let a=await fetch(`/api/content/video-status/${t}`),s=await a.json();if(!s.success)throw Error("Failed to check video status");let n=s.video;if(m(e=>e?{...e,progress:n.progress||Math.min(r/120*100,95),status:n.status}:null),"completed"===n.status){m({id:n.id,jobId:t,status:"completed",videoUrl:n.mediaUrl,thumbnailUrl:n.thumbnailUrl,duration:e.duration,progress:100}),u("preview"),b.toast.success("Video generated successfully!"),d(!1);return}if("failed"===n.status)throw Error(n.error||"Video generation failed");r++}throw Error("Video generation timeout - please try again")}catch(e){b.toast.error(e instanceof Error?e.message:"Failed to generate video"),console.error(e),u("input")}finally{d(!1)}}return(0,a.jsx)(y.Dialog,{open:e,onOpenChange:n,children:(0,a.jsxs)(y.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(y.DialogHeader,{children:[(0,a.jsxs)(y.DialogTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(o,{className:"h-5 w-5 text-primary"}),"AI Video Generator"]}),(0,a.jsx)(y.DialogDescription,{children:"Create professional videos with AI"})]}),"input"===x&&(0,a.jsx)(N.Form,{...h,children:(0,a.jsxs)("form",{onSubmit:h.handleSubmit(p),className:"space-y-6",children:[(0,a.jsx)(N.FormField,{control:h.control,name:"topic",render:({field:e})=>(0,a.jsxs)(N.FormItem,{children:[(0,a.jsx)(N.FormLabel,{children:"Video Topic *"}),(0,a.jsx)(N.FormControl,{children:(0,a.jsx)(w.Input,{placeholder:"E.g., Air Freight Delivery Process Explained",...e})}),(0,a.jsx)(N.FormDescription,{children:"What should the video be about?"}),(0,a.jsx)(N.FormMessage,{})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(N.FormField,{control:h.control,name:"duration",render:({field:e})=>(0,a.jsxs)(N.FormItem,{children:[(0,a.jsx)(N.FormLabel,{children:"Duration *"}),(0,a.jsxs)(S.Select,{onValueChange:a=>e.onChange(parseInt(a)),defaultValue:e.value.toString(),children:[(0,a.jsx)(N.FormControl,{children:(0,a.jsx)(S.SelectTrigger,{children:(0,a.jsx)(S.SelectValue,{})})}),(0,a.jsxs)(S.SelectContent,{children:[(0,a.jsx)(S.SelectItem,{value:"15",children:"15 seconds"}),(0,a.jsx)(S.SelectItem,{value:"30",children:"30 seconds"}),(0,a.jsx)(S.SelectItem,{value:"60",children:"60 seconds"}),(0,a.jsx)(S.SelectItem,{value:"90",children:"90 seconds"})]})]}),(0,a.jsx)(N.FormMessage,{})]})}),(0,a.jsx)(N.FormField,{control:h.control,name:"style",render:({field:e})=>(0,a.jsxs)(N.FormItem,{children:[(0,a.jsx)(N.FormLabel,{children:"Style *"}),(0,a.jsxs)(S.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,a.jsx)(N.FormControl,{children:(0,a.jsx)(S.SelectTrigger,{children:(0,a.jsx)(S.SelectValue,{})})}),(0,a.jsxs)(S.SelectContent,{children:[(0,a.jsx)(S.SelectItem,{value:"modern",children:"Modern"}),(0,a.jsx)(S.SelectItem,{value:"minimal",children:"Minimal"}),(0,a.jsx)(S.SelectItem,{value:"corporate",children:"Corporate"}),(0,a.jsx)(S.SelectItem,{value:"creative",children:"Creative"}),(0,a.jsx)(S.SelectItem,{value:"animated",children:"Animated"}),(0,a.jsx)(S.SelectItem,{value:"cinematic",children:"Cinematic"})]})]}),(0,a.jsx)(N.FormMessage,{})]})})]}),(0,a.jsx)(N.FormField,{control:h.control,name:"script",render:({field:e})=>(0,a.jsxs)(N.FormItem,{children:[(0,a.jsx)(N.FormLabel,{children:"Script (Optional)"}),(0,a.jsx)(N.FormControl,{children:(0,a.jsx)(F.Textarea,{placeholder:"Leave empty to auto-generate script from topic...",rows:4,...e})}),(0,a.jsx)(N.FormDescription,{children:"Provide your own script or let AI generate one"}),(0,a.jsx)(N.FormMessage,{})]})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(N.FormLabel,{children:"Video Options"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsx)(N.FormField,{control:h.control,name:"voiceover",render:({field:e})=>(0,a.jsxs)(N.FormItem,{className:"flex items-center space-x-2",children:[(0,a.jsx)(N.FormControl,{children:(0,a.jsx)("input",{type:"checkbox",checked:e.value,onChange:e.onChange,className:"h-4 w-4 rounded border-gray-300"})}),(0,a.jsx)(N.FormLabel,{className:"!mt-0 cursor-pointer",children:"AI Voiceover"})]})}),(0,a.jsx)(N.FormField,{control:h.control,name:"backgroundMusic",render:({field:e})=>(0,a.jsxs)(N.FormItem,{className:"flex items-center space-x-2",children:[(0,a.jsx)(N.FormControl,{children:(0,a.jsx)("input",{type:"checkbox",checked:e.value,onChange:e.onChange,className:"h-4 w-4 rounded border-gray-300"})}),(0,a.jsx)(N.FormLabel,{className:"!mt-0 cursor-pointer",children:"Background Music"})]})}),(0,a.jsx)(N.FormField,{control:h.control,name:"captions",render:({field:e})=>(0,a.jsxs)(N.FormItem,{className:"flex items-center space-x-2",children:[(0,a.jsx)(N.FormControl,{children:(0,a.jsx)("input",{type:"checkbox",checked:e.value,onChange:e.onChange,className:"h-4 w-4 rounded border-gray-300"})}),(0,a.jsx)(N.FormLabel,{className:"!mt-0 cursor-pointer",children:"Auto Captions"})]})})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(r.Button,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),(0,a.jsx)(r.Button,{type:"submit",children:"Generate Video"})]})]})}),"processing"===x&&c&&(0,a.jsxs)("div",{className:"space-y-6 py-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(T.Loader2,{className:"mx-auto h-12 w-12 animate-spin text-primary"}),(0,a.jsx)("h3",{className:"mt-4 text-lg font-semibold",children:"Generating your video..."}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"This may take a few minutes"})]}),(0,a.jsx)(t.Card,{children:(0,a.jsx)(t.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Progress"}),(0,a.jsxs)("span",{children:[c.progress,"%"]})]}),(0,a.jsx)(V.Progress,{value:c.progress})]})})})]}),"preview"===x&&c&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(t.Card,{children:[(0,a.jsxs)(t.CardHeader,{children:[(0,a.jsx)(t.CardTitle,{children:"Video Preview"}),(0,a.jsxs)(t.CardDescription,{children:[c.duration," seconds â€¢ ",h.watch("style")," style"]})]}),(0,a.jsx)(t.CardContent,{children:(0,a.jsx)("div",{className:"aspect-video rounded-lg bg-muted flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(P.Play,{className:"mx-auto h-16 w-16 text-muted-foreground mb-2"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Video preview would appear here"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:c.videoUrl})]})})})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsxs)(r.Button,{variant:"outline",onClick:()=>{u("input"),m(null)},children:[(0,a.jsx)(k.RefreshCw,{className:"mr-2 h-4 w-4"}),"Regenerate"]}),(0,a.jsxs)(r.Button,{variant:"outline",children:[(0,a.jsx)(M.Download,{className:"mr-2 h-4 w-4"}),"Download"]}),(0,a.jsx)(r.Button,{onClick:()=>{c&&l&&(l(c),b.toast.success("Video saved!"),n(!1))},children:"Save Video"})]})]})]})})}var G=e.i(510665),R=e.i(569074);let O=C.object({mode:C.enum(["generate","upload"]),prompt:C.string().optional(),style:C.enum(["realistic","illustration","3d","abstract","minimalist"]).optional(),aspectRatio:C.enum(["1:1","16:9","9:16","4:3","3:4","21:9","16:21"]).optional(),model:C.enum(["flux-kontext-pro","flux-kontext-max","4o-image","google/nano-banana","ideogram/v3-text-to-image","qwen/text-to-image","bytedance/seedream","bytedance/seedream-v4-text-to-image","google/imagen4-ultra"]).optional(),promptUpsampling:C.boolean().optional(),safetyTolerance:C.number().min(0).max(6).optional(),outputFormat:C.enum(["png","jpeg"]).optional(),uploadUrl:C.string().optional()}),z=({value:e,selected:s,onChange:t,name:r,badge:l,badgeVariant:i="outline",description:o,speed:d,quality:c,credits:m})=>(0,a.jsx)("div",{className:`border rounded-lg p-3 cursor-pointer transition-colors ${s?"border-primary bg-primary/5":"border-muted hover:border-primary/50"}`,onClick:()=>t(e),children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",checked:s,onChange:()=>t(e),className:"mt-0.5"}),(0,a.jsx)("span",{className:"font-semibold text-sm",children:r}),(0,a.jsx)(n.Badge,{variant:i,className:"text-xs",children:l})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1 ml-6",children:o}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-1.5 ml-6 text-xs",children:[(0,a.jsx)("span",{children:d}),(0,a.jsx)("span",{children:c}),(0,a.jsxs)("span",{className:"font-semibold text-primary",children:[m," credits"]})]})]})})});function H({open:e,onOpenChange:i,onSave:o}){let c,x,[u,h]=(0,s.useState)(!1),[p,g]=(0,s.useState)(null),[j,C]=(0,s.useState)("input"),[w,D]=(0,s.useState)("generate"),[L,V]=(0,s.useState)(null),[P,U]=(0,s.useState)(null),[E,H]=(0,s.useState)(!1),[q,W]=(0,s.useState)(""),[$,_]=(0,s.useState)(0),J=(0,v.useForm)({resolver:(0,f.zodResolver)(O),defaultValues:{mode:"generate",prompt:"",style:"realistic",aspectRatio:"1:1",model:"flux-kontext-pro",promptUpsampling:!1,safetyTolerance:2,outputFormat:"png",uploadUrl:""}}),K=(0,s.useCallback)(e=>{let a=e[0];if(a){V(a);let e=new FileReader;e.onload=e=>{U(e.target?.result)},e.readAsDataURL(a)}},[]),{getRootProps:Q,getInputProps:Y,isDragActive:Z}=(0,G.useDropzone)({onDrop:K,accept:{"image/*":[".png",".jpg",".jpeg",".gif",".webp"]},maxFiles:1,maxSize:0xa00000}),X=async e=>{console.log("ðŸš€ðŸš€ðŸš€ onSubmit CALLED!"),console.log("Mode:",w),console.log("Data:",e),console.log("Form errors:",J.formState.errors),b.toast.info("ðŸš€ Starting image generation...",{duration:2e3}),W("Initializing..."),_(0),h(!0);try{if("generate"===w){if(!e.prompt||e.prompt.length<5){b.toast.error("âŒ Please provide a detailed prompt (min 5 characters)"),h(!1);return}console.log("âœ… Validation passed, sending generation request:",e),W("Starting generation..."),_(5),b.toast.info(`ðŸŽ¨ Initializing...`,{duration:2e3});let a=await (0,A.fetchWithCsrf)("/api/content/generate-image-async",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e.prompt,style:e.style,aspectRatio:e.aspectRatio,model:e.model,promptUpsampling:e.promptUpsampling,safetyTolerance:e.safetyTolerance,outputFormat:e.outputFormat})});if(!a.ok)throw Error("Failed to start generation");let{taskId:s,apiType:t}=await a.json();W(`Generating with ${e.model}...`),_(20),b.toast.info(`â³ Generating... (this may take 15-30s)`,{duration:5e3});let r=0,n=null;for(;r<30;){await new Promise(e=>setTimeout(e,2e3));let a=await (0,A.fetchWithCsrf)("/api/content/check-image-status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskId:s,apiType:t,model:e.model,prompt:e.prompt,style:e.style,aspectRatio:e.aspectRatio,outputFormat:e.outputFormat})});if(a.ok){let e=await a.json();if("completed"===e.status){n=e;break}if("failed"===e.status)throw Error("Image generation failed")}r++,_(20+r/30*60)}if(!n)throw Error("Generation timeout");if(console.log("ðŸ“¦ Generation completed!"),W("Finalizing..."),_(90),!n.success||!n.image)throw console.error("âŒ Generation failed"),Error("Failed to generate image");console.log("âœ… Image generated successfully!"),console.log("ðŸ“¸ Image data:",n.image),W("Finalizing..."),_(100),g(n.image),console.log("ðŸ”„ Setting step to preview"),C("preview"),b.toast.success("âœ… Image ready!",{duration:3e3}),console.log("âœ… Preview should now be visible")}else{if(!L){b.toast.error("Please select an image to upload"),h(!1);return}let e=new FormData;e.append("file",L);let a=await (0,A.fetchWithCsrf)("/api/content/upload-temp",{method:"POST",body:e}),s=await a.json();if(!s.success)throw Error("Failed to upload image");let t=await (0,A.fetchWithCsrf)("/api/content/upload-to-blotato",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:s.url})}),r=await t.json();if(!r.success)throw Error("Failed to upload to Blotato CDN");g({id:"uploaded-"+Date.now(),imageUrl:r.blotatoUrl,thumbnailUrl:r.blotatoUrl,metadata:{width:0,height:0,format:L.type.split("/")[1],fileSize:L.size}}),C("preview"),b.toast.success("Image uploaded successfully!")}}catch(e){console.error("Generation error:",e),b.toast.error(e instanceof Error?e.message:"Failed to process image")}finally{h(!1)}};return(0,a.jsx)(y.Dialog,{open:e,onOpenChange:i,children:(0,a.jsxs)(y.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(y.DialogHeader,{children:[(0,a.jsxs)(y.DialogTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(d.Image,{className:"h-5 w-5 text-primary"}),"AI Image Generator & Uploader"]}),(0,a.jsx)(y.DialogDescription,{children:"Generate AI images or upload your own via Blotato"})]}),"input"===j&&(0,a.jsxs)(l.Tabs,{value:w,onValueChange:e=>D(e),children:[(0,a.jsxs)(l.TabsList,{className:"grid w-full grid-cols-2",children:[(0,a.jsxs)(l.TabsTrigger,{value:"generate",children:[(0,a.jsx)(m.Sparkles,{className:"mr-2 h-4 w-4"}),"AI Generate"]}),(0,a.jsxs)(l.TabsTrigger,{value:"upload",children:[(0,a.jsx)(R.Upload,{className:"mr-2 h-4 w-4"}),"Upload Image"]})]}),(0,a.jsx)(l.TabsContent,{value:"generate",className:"space-y-4",children:(0,a.jsx)(N.Form,{...J,children:(0,a.jsxs)("form",{onSubmit:J.handleSubmit(X),className:"space-y-6",children:[(0,a.jsx)(N.FormField,{control:J.control,name:"prompt",render:({field:e})=>(0,a.jsxs)(N.FormItem,{children:[(0,a.jsx)(N.FormLabel,{children:"Image Description *"}),(0,a.jsx)(N.FormControl,{children:(0,a.jsx)(F.Textarea,{placeholder:"E.g., A modern cargo airplane flying over a city at sunset, photorealistic, high detail",rows:4,...e})}),(0,a.jsx)(N.FormDescription,{children:"Describe the image you want to generate in detail"}),(0,a.jsx)(N.FormMessage,{})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(N.FormField,{control:J.control,name:"style",render:({field:e})=>(0,a.jsxs)(N.FormItem,{children:[(0,a.jsx)(N.FormLabel,{children:"Style *"}),(0,a.jsxs)(S.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,a.jsx)(N.FormControl,{children:(0,a.jsx)(S.SelectTrigger,{children:(0,a.jsx)(S.SelectValue,{})})}),(0,a.jsxs)(S.SelectContent,{children:[(0,a.jsx)(S.SelectItem,{value:"realistic",children:"Realistic"}),(0,a.jsx)(S.SelectItem,{value:"illustration",children:"Illustration"}),(0,a.jsx)(S.SelectItem,{value:"3d",children:"3D Render"}),(0,a.jsx)(S.SelectItem,{value:"abstract",children:"Abstract"}),(0,a.jsx)(S.SelectItem,{value:"minimalist",children:"Minimalist"})]})]}),(0,a.jsx)(N.FormMessage,{})]})}),(0,a.jsx)(N.FormField,{control:J.control,name:"aspectRatio",render:({field:e})=>(0,a.jsxs)(N.FormItem,{children:[(0,a.jsx)(N.FormLabel,{children:"Aspect Ratio *"}),(0,a.jsxs)(S.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,a.jsx)(N.FormControl,{children:(0,a.jsx)(S.SelectTrigger,{children:(0,a.jsx)(S.SelectValue,{})})}),(0,a.jsxs)(S.SelectContent,{children:[(0,a.jsx)(S.SelectItem,{value:"1:1",children:"Square (1:1) - Social Media"}),(0,a.jsx)(S.SelectItem,{value:"16:9",children:"Landscape (16:9) - YouTube, Desktop"}),(0,a.jsx)(S.SelectItem,{value:"9:16",children:"Portrait (9:16) - Stories, TikTok"}),(0,a.jsx)(S.SelectItem,{value:"4:3",children:"Standard (4:3) - Traditional"}),(0,a.jsx)(S.SelectItem,{value:"3:4",children:"Portrait (3:4) - Magazine"}),(0,a.jsx)(S.SelectItem,{value:"21:9",children:"Ultra-Wide (21:9) - Cinematic"}),(0,a.jsx)(S.SelectItem,{value:"16:21",children:"Ultra-Tall (16:21) - Mobile App"})]})]}),(0,a.jsx)(N.FormMessage,{})]})})]}),(0,a.jsx)(N.FormField,{control:J.control,name:"model",render:({field:e})=>(0,a.jsxs)(N.FormItem,{children:[(0,a.jsx)(N.FormLabel,{children:"AI Model *"}),(0,a.jsx)(N.FormControl,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-2",children:"ðŸ’° Budget (Fast & Cheap)"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(z,{value:"flux-kontext-pro",selected:"flux-kontext-pro"===e.value,onChange:e.onChange,name:"Flux Kontext Pro",badge:"Recommended",badgeVariant:"secondary",description:"Balanced performance for social media",speed:"âš¡âš¡âš¡ Fast (10-15s)",quality:"â­â­â­",credits:"~0.75"}),(0,a.jsx)(z,{value:"google/nano-banana",selected:"google/nano-banana"===e.value,onChange:e.onChange,name:"Google Nano Banana",badge:"Ultra Fast",description:"Lightweight & ultra-fast generation",speed:"âš¡âš¡âš¡âš¡ Ultra Fast (5-10s)",quality:"â­â­â­",credits:"~0.75"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-2",children:"âš–ï¸ Balanced (Quality & Speed)"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(z,{value:"flux-kontext-max",selected:"flux-kontext-max"===e.value,onChange:e.onChange,name:"Flux Kontext Max",badge:"Premium",description:"Highest quality for professional content",speed:"âš¡âš¡ Slower (20-30s)",quality:"â­â­â­â­â­",credits:"~1.5"}),(0,a.jsx)(z,{value:"ideogram/v3-text-to-image",selected:"ideogram/v3-text-to-image"===e.value,onChange:e.onChange,name:"Ideogram V3",badge:"Typography",description:"Excellent text rendering & logo design",speed:"âš¡âš¡ Medium (15-20s)",quality:"â­â­â­â­",credits:"~1.25"}),(0,a.jsx)(z,{value:"qwen/text-to-image",selected:"qwen/text-to-image"===e.value,onChange:e.onChange,name:"Qwen Text-to-Image",badge:"Chinese AI",description:"Chinese language & Asian aesthetics",speed:"âš¡âš¡ Medium (15-20s)",quality:"â­â­â­â­",credits:"~1.25"}),(0,a.jsx)(z,{value:"bytedance/seedream",selected:"bytedance/seedream"===e.value,onChange:e.onChange,name:"ByteDance SeeDream",badge:"TikTok AI",description:"Social media optimized, trendy aesthetics",speed:"âš¡âš¡ Medium (15-25s)",quality:"â­â­â­â­",credits:"~1.5"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-2",children:"ðŸ’Ž Premium (Best Quality)"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(z,{value:"4o-image",selected:"4o-image"===e.value,onChange:e.onChange,name:"GPT-4O Image",badge:"AI-Enhanced",description:"Advanced editing & variants generation",speed:"âš¡âš¡ Medium (15-25s)",quality:"â­â­â­â­",credits:"~2"}),(0,a.jsx)(z,{value:"bytedance/seedream-v4-text-to-image",selected:"bytedance/seedream-v4-text-to-image"===e.value,onChange:e.onChange,name:"SeeDream V4",badge:"Latest",description:"Latest version with enhanced quality",speed:"âš¡ Slower (20-30s)",quality:"â­â­â­â­â­",credits:"~2"}),(0,a.jsx)(z,{value:"google/imagen4-ultra",selected:"google/imagen4-ultra"===e.value,onChange:e.onChange,name:"Google Imagen 4 Ultra",badge:"Photorealistic",description:"Google's latest, photorealistic quality",speed:"âš¡ Slower (20-30s)",quality:"â­â­â­â­â­",credits:"~2.5"})]})]})]})}),(0,a.jsx)(N.FormMessage,{})]})}),(0,a.jsxs)(t.Card,{children:[(0,a.jsxs)(t.CardHeader,{className:"pb-3",children:[(0,a.jsx)(t.CardTitle,{className:"text-base",children:"Advanced Settings"}),(0,a.jsx)(t.CardDescription,{children:"Fine-tune your image generation"})]}),(0,a.jsxs)(t.CardContent,{className:"space-y-4",children:[(0,a.jsx)(N.FormField,{control:J.control,name:"outputFormat",render:({field:e})=>(0,a.jsxs)(N.FormItem,{children:[(0,a.jsx)(N.FormLabel,{children:"Output Format"}),(0,a.jsx)(N.FormControl,{children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(r.Button,{type:"button",variant:"png"===e.value?"default":"outline",size:"sm",onClick:()=>e.onChange("png"),className:"flex-1",children:"PNG (High Quality)"}),(0,a.jsx)(r.Button,{type:"button",variant:"jpeg"===e.value?"default":"outline",size:"sm",onClick:()=>e.onChange("jpeg"),className:"flex-1",children:"JPEG (Smaller)"})]})}),(0,a.jsx)(N.FormMessage,{})]})}),(0,a.jsx)(N.FormField,{control:J.control,name:"promptUpsampling",render:({field:e})=>(0,a.jsxs)(N.FormItem,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(N.FormLabel,{className:"text-sm",children:"AI Enhance Prompt"}),(0,a.jsx)(N.FormDescription,{className:"text-xs",children:"AI will improve your prompt"})]}),(0,a.jsx)(N.FormControl,{children:(0,a.jsx)("input",{type:"checkbox",checked:e.value,onChange:a=>e.onChange(a.target.checked),className:"h-4 w-4"})})]})}),(0,a.jsx)(N.FormField,{control:J.control,name:"safetyTolerance",render:({field:e})=>(0,a.jsxs)(N.FormItem,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(N.FormLabel,{children:"Safety Level"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.value||2})]}),(0,a.jsx)(N.FormControl,{children:(0,a.jsx)("input",{type:"range",min:"0",max:"6",step:"1",value:e.value||2,onChange:a=>e.onChange(parseInt(a.target.value)),className:"w-full"})}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:"Strict"}),(0,a.jsx)("span",{children:"Balanced"}),(0,a.jsx)("span",{children:"Permissive"})]}),(0,a.jsx)(N.FormMessage,{})]})})]})]}),(0,a.jsx)(t.Card,{className:"bg-muted/50",children:(0,a.jsx)(t.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Estimated Cost"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-primary",children:["~","flux-kontext-pro"===(c=J.watch("model"))||"google/nano-banana"===c?"0.75":"ideogram/v3-text-to-image"===c||"qwen/text-to-image"===c?"1.25":"flux-kontext-max"===c||"bytedance/seedream"===c?"1.5":"4o-image"===c||"bytedance/seedream-v4-text-to-image"===c?"2":"google/imagen4-ultra"===c?"2.5":"1.5"," credits"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Generation Time"}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:"google/nano-banana"===(x=J.watch("model"))?"5-10s":"flux-kontext-pro"===x?"10-15s":"4o-image"===x||"ideogram/v3-text-to-image"===x||"qwen/text-to-image"===x?"15-20s":"bytedance/seedream"===x?"15-25s":"flux-kontext-max"===x||"bytedance/seedream-v4-text-to-image"===x||"google/imagen4-ultra"===x?"20-30s":"15-20s"})]})]})})}),u&&(0,a.jsx)(t.Card,{className:"bg-primary/5 border-primary/20",children:(0,a.jsx)(t.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"font-medium",children:q}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[$,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-secondary rounded-full h-2 overflow-hidden",children:(0,a.jsx)("div",{className:"bg-primary h-full transition-all duration-500 ease-out",style:{width:`${$}%`}})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"This may take 10-30 seconds depending on the model..."})]})})}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(r.Button,{type:"button",variant:"outline",onClick:()=>{console.log("Cancel clicked"),i(!1)},disabled:u,children:"Cancel"}),(0,a.jsx)(r.Button,{type:"button",onClick:()=>{console.log("ðŸ”˜ Direct button click!"),console.log("Form values:",J.getValues()),console.log("Form errors:",J.formState.errors),console.log("Is form valid:",J.formState.isValid),console.log("Calling form.handleSubmit..."),J.handleSubmit(e=>{console.log("âœ… Validation passed!"),X(e)},e=>{console.error("âŒ Validation failed:",e),b.toast.error("Please fill in all required fields")})()},disabled:u,className:"min-w-[160px]",children:u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Sparkles,{className:"mr-2 h-4 w-4"}),"Generate Image"]})})]})]})})}),(0,a.jsx)(l.TabsContent,{value:"upload",className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{...Q(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${Z?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[(0,a.jsx)("input",{...Y()}),P?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("img",{src:P,alt:"Upload preview",className:"max-h-64 mx-auto rounded-lg"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[L?.name," (",(L.size/1024/1024).toFixed(2)," MB)"]}),(0,a.jsx)(r.Button,{type:"button",variant:"outline",size:"sm",onClick:e=>{e.stopPropagation(),V(null),U(null)},children:"Remove"})]}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(R.Upload,{className:"mx-auto h-12 w-12 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:Z?"Drop image here":"Drag & drop an image here"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"or click to browse (max 10MB)"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Supports: PNG, JPG, JPEG, GIF, WebP"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(r.Button,{type:"button",variant:"outline",onClick:()=>i(!1),disabled:u,children:"Cancel"}),(0,a.jsxs)(r.Button,{onClick:J.handleSubmit(X),disabled:!L||u,children:[u&&(0,a.jsx)(T.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),u?"Uploading...":"Upload to Blotato"]})]})]})})]}),(console.log("ðŸ” Current step:",j),console.log("ðŸ–¼ï¸ Generated image:",p),null),"preview"===j&&p&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(t.Card,{children:[(0,a.jsxs)(t.CardHeader,{children:[(0,a.jsx)(t.CardTitle,{children:"Generated Image"}),(0,a.jsxs)(t.CardDescription,{className:"flex gap-2",children:[p.metadata.format&&(0,a.jsx)(n.Badge,{variant:"outline",children:p.metadata.format.toUpperCase()}),p.metadata.fileSize>0&&(0,a.jsxs)(n.Badge,{variant:"outline",children:[(p.metadata.fileSize/1024/1024).toFixed(2)," MB"]}),p.style&&(0,a.jsx)(n.Badge,{variant:"outline",children:p.style}),p.aspectRatio&&(0,a.jsx)(n.Badge,{variant:"outline",children:p.aspectRatio})]})]}),(0,a.jsxs)(t.CardContent,{children:[(0,a.jsx)("div",{className:"rounded-lg overflow-hidden bg-muted",children:(0,a.jsx)("img",{src:p.imageUrl,alt:"Generated",className:"w-full h-auto"})}),p.prompt&&(0,a.jsxs)("p",{className:"mt-4 text-sm text-muted-foreground",children:[(0,a.jsx)("strong",{children:"Prompt:"})," ",p.prompt]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsxs)(r.Button,{variant:"outline",onClick:()=>{C("input"),g(null),V(null),U(null)},children:[(0,a.jsx)(k.RefreshCw,{className:"mr-2 h-4 w-4"}),"generate"===w?"Regenerate":"Upload Another"]}),(0,a.jsx)(r.Button,{variant:"outline",onClick:()=>{p&&(navigator.clipboard.writeText(p.imageUrl),H(!0),b.toast.success("Image URL copied to clipboard!"),setTimeout(()=>H(!1),2e3))},children:E?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(B.Check,{className:"mr-2 h-4 w-4"}),"Copied!"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.Copy,{className:"mr-2 h-4 w-4"}),"Copy URL"]})}),(0,a.jsxs)(r.Button,{variant:"outline",onClick:()=>{p&&window.open(p.imageUrl,"_blank")},children:[(0,a.jsx)(M.Download,{className:"mr-2 h-4 w-4"}),"Download"]}),(0,a.jsx)(r.Button,{onClick:()=>{p&&o&&(o(p),b.toast.success("Image saved!"),i(!1))},children:"Save Image"})]})]})]})})}let q=[{id:"1",type:"text",title:"Air Freight Advantages: Germany to USA",platform:["linkedin","facebook"],status:"published",schedule_at:"2025-10-28T08:00:00Z",engagement:{views:1240,likes:85,comments:12}},{id:"2",type:"video",title:"Supply Chain Optimization Tips",platform:["linkedin","instagram"],status:"scheduled",schedule_at:"2025-11-01T10:30:00Z",engagement:{views:0,likes:0,comments:0}},{id:"3",type:"text",title:"Nigeria Logistics Market Update",platform:["linkedin"],status:"draft",schedule_at:null,engagement:{views:0,likes:0,comments:0}}];function W(){let[e,v]=(0,s.useState)(!1),[f,C]=(0,s.useState)("text"),[y,N]=(0,s.useState)(!1),[w,F]=(0,s.useState)(!1),[S,T]=(0,s.useState)(!1),[I,k]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{k(!0)},[]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Content Library"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Create and manage social media content with Blotato AI"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(r.Button,{onClick:()=>N(!0),className:"relative",children:[(0,a.jsx)(m.Sparkles,{className:"mr-2 h-4 w-4"}),"AI Text",(0,a.jsx)(n.Badge,{variant:"secondary",className:"ml-2 text-[10px] px-1 py-0",children:"Blotato"})]}),(0,a.jsxs)(r.Button,{variant:"outline",onClick:()=>T(!0),className:"relative",children:[(0,a.jsx)(d.Image,{className:"mr-2 h-4 w-4"}),"AI Image",(0,a.jsx)(n.Badge,{variant:"secondary",className:"ml-2 text-[10px] px-1 py-0",children:"Blotato"})]}),(0,a.jsxs)(r.Button,{variant:"outline",onClick:()=>F(!0),className:"relative",children:[(0,a.jsx)(o,{className:"mr-2 h-4 w-4"}),"AI Video",(0,a.jsx)(n.Badge,{variant:"secondary",className:"ml-2 text-[10px] px-1 py-0",children:"Blotato"})]})]})]}),(0,a.jsx)(L,{open:y,onOpenChange:N,onSave:e=>{console.log("Saved content:",e),b.toast.success("Content saved as draft!")}}),(0,a.jsx)(H,{open:S,onOpenChange:T,onSave:e=>{console.log("Saved image:",e),b.toast.success("Image saved!")}}),(0,a.jsx)(E,{open:w,onOpenChange:F,onSave:e=>{console.log("Saved video:",e),b.toast.success("Video saved!")}}),(0,a.jsxs)(p.Alert,{children:[(0,a.jsx)(x.Info,{className:"h-4 w-4"}),(0,a.jsx)(p.AlertTitle,{className:"flex items-center gap-2",children:"ðŸš€ Blotato AI Integration Active"}),(0,a.jsxs)(p.AlertDescription,{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm",children:"Generate and publish AI-powered content directly to your social media platforms using Blotato API."}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2 mb-2",children:[(0,a.jsx)(n.Badge,{variant:"outline",children:"Twitter"}),(0,a.jsx)(n.Badge,{variant:"outline",children:"LinkedIn"}),(0,a.jsx)(n.Badge,{variant:"outline",children:"Facebook"}),(0,a.jsx)(n.Badge,{variant:"outline",children:"Instagram"}),(0,a.jsx)(n.Badge,{variant:"outline",children:"TikTok"}),(0,a.jsx)(n.Badge,{variant:"outline",children:"Pinterest"}),(0,a.jsx)(n.Badge,{variant:"outline",children:"Threads"}),(0,a.jsx)(n.Badge,{variant:"outline",children:"Bluesky"}),(0,a.jsx)(n.Badge,{variant:"outline",children:"YouTube"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[(0,a.jsx)(g.default,{href:"/dashboard/settings",children:(0,a.jsxs)(r.Button,{variant:"outline",size:"sm",children:[(0,a.jsx)(u.Settings,{className:"mr-2 h-3 w-3"}),"Configure Accounts"]})}),(0,a.jsx)("a",{href:"https://my.blotato.com/api-dashboard",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsxs)(r.Button,{variant:"outline",size:"sm",children:[(0,a.jsx)(h.ExternalLink,{className:"mr-2 h-3 w-3"}),"API Dashboard"]})})]})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,a.jsxs)(t.Card,{children:[(0,a.jsxs)(t.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(t.CardTitle,{className:"text-sm font-medium",children:"Total Content"}),(0,a.jsx)(m.Sparkles,{className:"h-4 w-4 text-primary"})]}),(0,a.jsxs)(t.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:q.length}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[q.filter(e=>"published"===e.status).length," published via Blotato"]})]})]}),(0,a.jsxs)(t.Card,{children:[(0,a.jsxs)(t.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(t.CardTitle,{className:"text-sm font-medium",children:"Scheduled"}),(0,a.jsx)(c.Calendar,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(t.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:q.filter(e=>"scheduled"===e.status).length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ready to publish"})]})]}),(0,a.jsxs)(t.Card,{children:[(0,a.jsxs)(t.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(t.CardTitle,{className:"text-sm font-medium",children:"Total Engagement"}),(0,a.jsx)(o,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(t.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:q.reduce((e,a)=>e+a.engagement.views,0)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total views"})]})]})]}),(0,a.jsxs)(t.Card,{children:[(0,a.jsxs)(t.CardHeader,{children:[(0,a.jsx)(t.CardTitle,{children:"Content Items"}),(0,a.jsx)(t.CardDescription,{children:"Browse and manage your content library"})]}),(0,a.jsx)(t.CardContent,{children:I?(0,a.jsxs)(l.Tabs,{defaultValue:"all",children:[(0,a.jsxs)(l.TabsList,{children:[(0,a.jsx)(l.TabsTrigger,{value:"all",children:"All"}),(0,a.jsx)(l.TabsTrigger,{value:"published",children:"Published"}),(0,a.jsx)(l.TabsTrigger,{value:"scheduled",children:"Scheduled"}),(0,a.jsx)(l.TabsTrigger,{value:"draft",children:"Drafts"})]}),(0,a.jsx)(l.TabsContent,{value:"all",className:"space-y-4 mt-4",children:q.map(e=>{var s,t;return(0,a.jsxs)("div",{className:"flex items-start gap-4 rounded-lg border p-4 hover:bg-muted/50 cursor-pointer",children:[(0,a.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-muted",children:"text"===(s=e.type)?(0,a.jsx)(i.FileText,{className:"h-4 w-4"}):"video"===s?(0,a.jsx)(o,{className:"h-4 w-4"}):(0,a.jsx)(d.Image,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h3",{className:"font-medium",children:e.title}),"published"===(t=e.status)?(0,a.jsx)(n.Badge,{className:"bg-green-600",children:"Published"}):"scheduled"===t?(0,a.jsx)(n.Badge,{className:"bg-blue-600",children:"Scheduled"}):(0,a.jsx)(n.Badge,{variant:"outline",children:"Draft"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:e.platform.map(e=>(0,a.jsx)(n.Badge,{variant:"outline",className:"capitalize",children:e},e))}),e.schedule_at&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Scheduled for ",(0,j.formatDateTime)(e.schedule_at)]}),"published"===e.status&&(0,a.jsxs)("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:[e.engagement.views," views"]}),(0,a.jsxs)("span",{children:[e.engagement.likes," likes"]}),(0,a.jsxs)("span",{children:[e.engagement.comments," comments"]})]})]})]},e.id)})})]}):(0,a.jsx)("div",{className:"h-96 flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})})})]})]})}e.s(["default",()=>W],782481)}]);