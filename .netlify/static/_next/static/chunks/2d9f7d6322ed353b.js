(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,248425,e=>{"use strict";var i=e.i(271645),t=e.i(174080),r=e.i(991918),s=e.i(843476),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=(0,r.createSlot)(`Primitive.${t}`),n=i.forwardRef((e,i)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(r?a:t,{...n,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function n(e,i){e&&t.flushSync(()=>e.dispatchEvent(i))}e.s(["Primitive",()=>a,"dispatchDiscreteCustomEvent",()=>n])},23750,e=>{"use strict";var i=e.i(843476),t=e.i(647163);function r({className:e,type:r,...s}){return(0,i.jsx)("input",{type:r,"data-slot":"input",className:(0,t.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>r])},10708,e=>{"use strict";var i=e.i(843476),t=e.i(271645),r=e.i(248425),s=t.forwardRef((e,t)=>(0,i.jsx)(r.Primitive.label,{...e,ref:t,onMouseDown:i=>{i.target.closest("button, input, select, textarea")||(e.onMouseDown?.(i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));s.displayName="Label";var a=e.i(647163);function n({className:e,...t}){return(0,i.jsx)(s,{"data-slot":"label",className:(0,a.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}e.s(["Label",()=>n],10708)},618566,(e,i,t)=>{i.exports=e.r(976562)},66262,e=>{"use strict";var i=e.i(843476),t=e.i(271645),r=e.i(970065),s=e.i(167881),a=e.i(23750),n=e.i(10708),l=e.i(618566);function o(){let e=(0,l.useSearchParams)(),[o,d]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[p,b]=(0,t.useState)(""),[f,m]=(0,t.useState)("idle");(0,t.useEffect)(()=>{let i=e.get("email")||"",t=e.get("campaignId")||"",r=e.get("leadId")||"";d(i),u(t),b(r)},[e]);let x=async()=>{try{if(!(await fetch("/api/outreach/unsubscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,campaignId:c,leadId:p,reason:"user"})})).ok)throw Error("Failed to unsubscribe");m("success")}catch{m("error")}};return(0,i.jsx)("div",{className:"max-w-xl mx-auto py-12",children:(0,i.jsxs)(r.Card,{children:[(0,i.jsxs)(r.CardHeader,{children:[(0,i.jsx)(r.CardTitle,{children:"Unsubscribe"}),(0,i.jsx)(r.CardDescription,{children:"Stop receiving outreach emails from us"})]}),(0,i.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(n.Label,{children:"Email"}),(0,i.jsx)(a.Input,{value:o,onChange:e=>d(e.target.value),placeholder:"your@email.com"})]}),(0,i.jsx)(s.Button,{onClick:x,disabled:!o,children:"Unsubscribe"}),"success"===f&&(0,i.jsx)("div",{className:"text-green-600",children:"You have been unsubscribed."}),"error"===f&&(0,i.jsx)("div",{className:"text-red-600",children:"Unsubscribe failed. Please try again later."})]})]})})}function d(){return(0,i.jsx)(t.Suspense,{fallback:(0,i.jsx)("div",{className:"py-12 text-center",children:"Loading..."}),children:(0,i.jsx)(o,{})})}e.s(["default",()=>d])}]);